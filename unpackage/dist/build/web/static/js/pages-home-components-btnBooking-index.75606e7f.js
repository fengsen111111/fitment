(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-components-btnBooking-index"],{1202:function(t,e,i){var n={"./bk.png":"a3eb","./dsj.png":"dcb0","./dw.png":"d8bb","./rl.png":"b829","./upload.png":"4987","./zxfg.png":"e920"};function a(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=s,t.exports=a,a.id="1202"},2205:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("e7d1").default,buuug7SimpleDatetimePicker:i("78c4").default,uniPopup:i("80c8").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"bgF9F9F9 h100vh"},[n("NavBar",{attrs:{navType:"标题",title:"提交预约"}}),n("v-uni-view",{staticClass:"p30 text28 "},[n("v-uni-view",[n("v-uni-view",{staticClass:"font-bold"},[t._v("姓名")]),n("v-uni-view",{staticClass:"mt20 bg-white py20 px30 radius10 "},[n("v-uni-input",{attrs:{type:"text",placeholder:"输入姓名"},model:{value:t.post_params.name,callback:function(e){t.$set(t.post_params,"name",e)},expression:"post_params.name"}})],1)],1),n("v-uni-view",{staticClass:"mt40"},[n("v-uni-view",{staticClass:"font-bold"},[t._v("联系电话")]),n("v-uni-view",{staticClass:"mt20 bg-white py20 px30 radius10"},[n("v-uni-input",{attrs:{type:"number",placeholder:"输入联系电话"},model:{value:t.post_params.mobile,callback:function(e){t.$set(t.post_params,"mobile",e)},expression:"post_params.mobile"}})],1)],1),n("v-uni-view",{staticClass:"mt40"},[n("v-uni-view",{staticClass:"font-bold"},[t._v("小区名称")]),n("v-uni-view",{staticClass:"mt20 bg-white py20 px30 radius10 flex items-center justify-between"},[n("v-uni-input",{staticStyle:{width:"90%"},attrs:{type:"text",placeholder:"输入小区名称"},model:{value:t.post_params.community,callback:function(e){t.$set(t.post_params,"community",e)},expression:"post_params.community"}}),n("v-uni-image",{staticClass:"w22 h28",attrs:{src:i("d8bb"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handDw.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"mt40"},[n("v-uni-view",{staticClass:"font-bold"},[t._v("预约时间")]),n("v-uni-view",{staticClass:"mt20 bg-white py20 px30 radius10 flex items-center justify-between"},[n("v-uni-input",{staticStyle:{width:"90%"},attrs:{type:"text",disabled:!0,placeholder:"输入预约时间"},model:{value:t.post_params.time,callback:function(e){t.$set(t.post_params,"time",e)},expression:"post_params.time"}}),n("v-uni-image",{staticClass:"w32 h30",attrs:{src:i("b829"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.$refs.myPicker.show()}.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"mt40"},[n("v-uni-view",{staticClass:"font-bold"},[t._v("装修模式")]),n("v-uni-view",{staticClass:"mt20 bg-white py20 px30 radius10 flex items-center justify-between"},[n("v-uni-input",{attrs:{type:"text",disabled:!0,placeholder:"输入装修模式"},model:{value:t.post_params.decoration_model.name,callback:function(e){t.$set(t.post_params.decoration_model,"name",e)},expression:"post_params.decoration_model.name"}}),n("v-uni-image",{staticClass:"w30 h20",attrs:{src:i("dcb0"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.$refs.popupMode.open("bottom")}.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"mt40"},[n("v-uni-view",{staticClass:"font-bold"},[t._v("装修风格")]),n("v-uni-view",{staticClass:"mt20 relative",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.$refs.popupStyle.open("bottom")}.apply(void 0,arguments)}}},[t.post_params.zxfg.length>0?n("v-uni-view",[n("v-uni-image",{staticClass:"w200 h200",attrs:{src:i("1202")("./"+t.post_params.zxfg.image+".png"),mode:""}})],1):n("v-uni-view",[n("v-uni-image",{staticClass:"w200 h200",attrs:{src:i("a3eb"),mode:""}}),n("v-uni-view",{staticClass:"col999999 absolute top_bfb38 left_bfb6"},[t._v("点击选择")])],1)],1)],1),n("v-uni-view",{staticClass:"mt40"},[n("v-uni-view",{staticClass:"font-bold"},[t._v("我喜欢的")]),n("v-uni-view",{staticClass:"mt20"},[t._l(t.images,(function(t){return n("v-uni-image",{key:t,staticClass:"w116 h116 radius10 mr20",attrs:{src:t,mode:""}})})),n("v-uni-image",{staticClass:"w116 h116 radius10",attrs:{src:i("4987"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selImg()}}})],2)],1),n("v-uni-view",{staticClass:"flex mt65 text24 px30"},[t.check?n("uni-icons",{attrs:{type:"circle",size:"16"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.check=!1}.apply(void 0,arguments)}}}):n("uni-icons",{attrs:{type:"checkbox-filled",size:"16",color:"#4DB23F"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.check=!0}.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"ml10"},[t._v("已查看并同意")]),n("v-uni-view",{staticClass:"col4DB23F"},[t._v("《装修服务协议》")]),n("v-uni-view",{staticClass:"col4DB23F"},[t._v("《装修服务隐私协议》")])],1),n("v-uni-view",[n("buuug7-simple-datetime-picker",{ref:"myPicker",attrs:{"start-year":2e3,"end-year":2099,"time-init":16888608e5,"time-hide":[!0,!0,!0,!0,!0,!1],"time-label":["年","月","日","时","分","秒"]},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSubmit.apply(void 0,arguments)}}}),n("uni-popup",{ref:"popupMode",attrs:{type:"bottom","border-radius":"10px 10px 0 0"}},[n("v-uni-view",{staticClass:"bgF9F9F9 p30",staticStyle:{"border-radius":"10px 10px 0 0"}},[n("v-uni-view",{staticClass:"flex justify-between items-center"},[n("v-uni-view",{staticClass:"text28 font-bold"},[t._v("装修模式")]),n("uni-icons",{attrs:{type:"closeempty",size:"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.$refs.popupMode.close()}.apply(void 0,arguments)}}})],1),t._l(t.zxmsList,(function(e){return n("v-uni-view",{key:e.id,staticClass:"flex bg-white radius10 justify-between items-center mt30 p30",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleZxms(e)}}},[n("v-uni-view",{staticClass:"text30"},[t._v(t._s(e.name))]),t.post_params.decoration_model.id==e.id?n("uni-icons",{attrs:{type:"checkbox-filled",color:"#4DB23F",size:"20"}}):t._e()],1)}))],2)],1),n("uni-popup",{ref:"popupStyle",attrs:{type:"bottom","border-radius":"10px 10px 0 0"}},[n("v-uni-view",{staticClass:"bgF9F9F9 p30",staticStyle:{"border-radius":"10px 10px 0 0"}},[n("v-uni-view",{staticClass:"flex justify-between items-center"},[n("v-uni-view",{staticClass:"text28 font-bold"},[t._v("装修风格")]),n("uni-icons",{attrs:{type:"closeempty",size:"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.$refs.popupStyle.close()}.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"radius10 grid grid-cols-3"},t._l(t.zxfgList,(function(e){return n("v-uni-view",{key:e.id,staticClass:"w200  mt30",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleZxfg(e)}}},[n("v-uni-image",{staticClass:"w200 h200 radius10",attrs:{src:i("1202")("./"+e.image+".png"),mode:""}}),n("v-uni-view",{staticClass:"text36 font-bold mt10 text-center"},[t._v(t._s(e.name))])],1)})),1)],1)],1),n("uni-popup",{ref:"popupBtn",attrs:{type:"bottom","border-radius":"10px 10px 0 0"}},[n("v-uni-view",{staticClass:"bgF9F9F9 p30 radius20",staticStyle:{width:"80vw","border-radius":"10px 10px 0 0"}},[n("v-uni-view",{staticClass:"grid grid-cols-3 items-center"},[n("v-uni-view",{staticClass:"w15"}),n("v-uni-view",{staticClass:"text30 text-center font-bold"},[t._v("提交成功")]),n("uni-icons",{staticStyle:{"text-align":"right"},attrs:{type:"closeempty",size:"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.$refs.popupBtn.close()}.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"mt120 text-center"},[n("uni-icons",{attrs:{type:"checkbox-filled",size:"100",color:"#4DB23F"}})],1),n("v-uni-view",{staticClass:"mt30 text30 px30"},[t._v("您的预约我们已收到，24小时内专业顾问 将与您取得联系请注就听来电!")]),n("v-uni-view",{staticClass:"mt100 text-center"},[t._v(t._s(t.time)+"秒后转到首页")]),n("v-uni-view",{staticClass:"bg4DB23F radius10 font-bold col-white text-center py17 mt20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handUrl("/pages/home/index")}}},[t._v("立即跳转")])],1)],1)],1),n("v-uni-view",{staticClass:"h116"})],1),n("v-uni-view",{staticClass:"w-full fixed bottom0"},[n("v-uni-view",{staticClass:"bg-white  py20 px75"},[n("v-uni-view",{staticClass:"bg4DB23F text-center py17 font-bold col-white text32 radius10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._submitService()}}},[t._v("提交")])],1)],1)],1)},s=[]},"482b":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.onChooseAvatar=e.debounce=e.bd09ToGcj02=void 0,i("64aa"),i("bf0f");e.bd09ToGcj02=function(t,e){var i=t-.0065,n=e-.006,a=Math.sqrt(i*i+n*n)-2e-5*Math.sin(n*Math.PI),s=Math.atan2(n,i)-3e-6*Math.cos(i*Math.PI),o=a*Math.cos(s),c=a*Math.sin(s),u=1.000153*Number(Number(o).toFixed(6)),l=.999848*Number(Number(c).toFixed(6));return{gcj_lon:u.toFixed(6),gcj_lat:l.toFixed(6)}};e.debounce=function(t,e){var i=null;return function(){var n=this,a=arguments;i&&clearTimeout(i),uni.hideLoading(),i=setTimeout((function(){i=null,t.apply(n,a)}),e)}};e.throttle=function(t,e){var i=0,n=null;return function(){var a=this,s=arguments,o=new Date,c=e-(o-i);clearTimeout(n),c<=0?(t.apply(a,s),i=new Date):n=setTimeout((function(){t.apply(a,s)}),e)}};e.onChooseAvatar=function(t,e,i){var n=new FormData;for(var a in n.append("rsa","false"),n.append("file",t),e)n.append("post_params["+a+"]",e[a]);try{fetch("https://api.qfcss.cn/factory_storage/File/uploadFile",{method:"POST",headers:{Authorization:uni.getStorageSync("token")||"",accept:"application/json, text/plain, */*",origin:"https://beverage.sczhiyun.net"},body:n}).then((function(t){return t.json()})).then((function(t){console.log("上传成功:",t.data),i&&i(!1,t)})).catch((function(t){i&&i(!0,t)}))}catch(s){console.error("Error:",s),i&&i(s,null)}}},4987:function(t,e,i){t.exports=i.p+"static/home/btnBooking/upload.png"},"556f":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("39d8"));i("aa9c"),i("c223"),i("5c47"),i("0506");var s,o=n(i("15ba")),c=n(i("dc4b")),u=i("482b"),l={data:function(){return{check:!0,birthday:"",zxfgList:[{id:1,name:"装修风格1",image:"zxfg"},{id:2,name:"装修风格2",image:"zxfg"}],post_params:{type:"a",name:"",mobile:"",community:"",community_location:"",time:"",decoration_plan_money:"",decoration_model:{},check_home_model:"",zxfg:{}},zxmsList:[],time:5,timer:"",images:[]}},components:{NavBar:o.default},watch:{time:function(t,e){0==t&&(clearInterval(this.timer),uni.navigateTo({url:"/pages/home/index"}))}},onLoad:function(){this._getBaseTypes(),this._getDecorationStylesList()},methods:(s={_getDecorationStylesList:function(){c.default.getDecorationStylesList().then((function(t){console.log("装修风格",t.data)}))},selImg:function(){var t=this;uni.chooseImage({count:9,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){console.log("res",e.tempFiles[0]);var i=e.tempFiles[0];c.default.getTicket().then((function(e){var n=e.data.data.ticket_time;c.default.getUploadType().then((function(e){var a=e.data.data.config,s=a.folder,o=a.file_type,c={ticket_time:n,folder:s||"topicImg",file_type:o||"image"};(0,u.onChooseAvatar)(i,c,(function(e,i){e?console.log("上传失败:",i):(console.log("上传地址:",i.data.url),t.images.push("https://api.qfcss.cn"+i.data.url))}))}))}))}})},_getBaseTypes:function(){c.default.getBaseTypes().then((function(t){console.log("配置项",t.data)}))},handDw:function(){uni.navigateTo({url:"/pages/my/components/map/index"})},handUrl:function(t){uni.navigateTo({url:t})},handleZxfg:function(t){this.post_params.zxfg=t,this.$refs.popupStyle.close()},handleZxms:function(t){this.post_params.decoration_model=t,this.$refs.popupMode.close()}},(0,a.default)(s,"_getDecorationStylesList",(function(){var t=this;c.default.getDecorationStylesList().then((function(e){var i=e.data.data.list;t.zxfgList=i}))})),(0,a.default)(s,"handleSubmit",(function(t){this.post_params.time="".concat(t.year,"/").concat(t.month,"/").concat(t.day," ").concat(t.hour,":").concat(t.minute)})),(0,a.default)(s,"_submitService",(function(){var t=this;if(!this.post_params.mobile)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;return this.post_params.mobile&&!/^1[3-9]\d{9}$/.test(this.post_params.mobile)?(uni.showToast({title:"手机号格式错误",icon:"none",duration:2e3}),!1):this.check?(uni.showToast({title:"请勾选协议",icon:"none",duration:2e3}),!1):void c.default.submitService({post_params:{type:"a",name:this.post_params.name,mobile:this.post_params.mobile,community:this.post_params.community,community_location:this.post_params.community_location,time:this.post_params.time,decoration_plan_money:this.post_params.decoration_plan_money,decoration_model:this.post_params.decoration_model,check_home_model:this.post_params.check_home_model}}).then((function(e){console.log("提交结束",e.data),t.$refs.popupBtn.open("center"),t.timer=setInterval((function(){t.time=t.time-1}),1e3)})).catch((function(e){console.log("提交失败",e),t.$refs.popupBtn.open("center"),t.timer=setInterval((function(){t.time=t.time-1}),1e3)}))})),s)};e.default=l},7539:function(t,e,i){"use strict";i.r(e);var n=i("556f"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},a3eb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAvVJREFUeF7t2KFvE2EcxvH3lyuOYBAlGEKCRYADQcY/gEBgqBhBXN/UIcCQcIYEhSBc+94ZaFIDjr8AMrmAw2GGIFdJCEkFzfvCFY50AbmyJ+xbsXVNsz73fO52eWbu16OqqmN5nn/rfm6/13X9OqW0tf5ajPGq9/4N7zuYXoqi6PX7/Yve+922U2u/hBDuOOeuz+fzraIoll3ZgDi36ROwruubKaVpSunucDh8bHVdX04p7aSfjwve+/frZz/PN9tACOF2e02YmS2XyysWQnhhZjecc/fzPH+42Y/nt/+tgRDCPTN7lFJ6aVVVffpxuzgdYzzrvd+jsn/fQFmWp7Ise2Bm71b3EB46DQCiY7FKAgggYg2IxeEKEQEJITxb/cmqqiq1T/I8B+cQcToHQA4RYf2jARGB6GIAAohYA2JxJpPJNjtEDAUQQAQbEIvE9gBErAGROCx1EQh2iBgEIICINiAWi3+diIGw1MVAujjsEDEYQAARa0AsDleICAhLXQSCYSgGAQggog2IxWKpi4Gw1MVAWOqAiDYgFothCIhYAyJxWOoiEAxDMQhAABFtQCwWS10MhKUuBsJSB0S0AbFYLHVAxBoQicNSF4FgGIpBAAKIaANisVjqYiAsdTEQljogog2IxWKpAyLWgEgclroIBMNQDAIQQEQbEIvFUhcDYamLgbDUARFtQCwWSx0QsQZE4rDURSAYhmIQgAAi2oBYLJa6GAhLXQyEpQ6IaANisVjqgIg1IBKHpS4CwTAUgwAEENEGxGKx1MVAWOpiICx1QEQbEIvFUgdErAGROCx1EQiGoRgEIICINiAWi6UuBvJ7qYcQGjP73DTN+aIolmI5j1wcm81mJwaDwZcjd+SiB/zHMCzL8vhoNPoqmve/ijWdTk8uFotBSumV936vPbh9IGVZnuv1eh/WjzrGeMt7/3z9tXbEmNk27zuwXt42TXOpvWXsAxmPx9eyLHvinDvTlQ2Icxs8AT8653ZijE+997tt598BIN8Nf8jF7VwAAAAASUVORK5CYII="},e920:function(t,e,i){t.exports=i.p+"static/home/btnBooking/zxfg.png"},fd00:function(t,e,i){"use strict";i.r(e);var n=i("2205"),a=i("7539");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o=i("828b"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"f2b66c28",null,!1,n["a"],void 0);e["default"]=c.exports}}]);